## Qwen Added Memories
- Artha is a local-first educational stock market simulator designed to teach Indian teenagers (ages 13-17) about investing using scrambled historical NSE/BSE data. The system operates entirely offline with no external dependencies except initial data download.
- Artha's architecture consists of a FastAPI backend server, Textual TUI client, SQLite database, and local Ollama LLM for AI coaching. It follows a local-first design where all processing happens on the user's machine with no cloud dependencies after initial setup.
- The system has three main backend components: Game Engine (manages game lifecycle and day advancement), Trade Executor (handles order validation and execution with Indian market costs), and Analytics Engine (calculates portfolio metrics like returns, Sharpe ratio, drawdown). It also includes a Data Loader for CSV handling and Coach Manager for Ollama integration.
- The frontend uses Textual TUI framework with key widgets including ChartWidget (for price visualization), PortfolioGrid (for position tracking), and TradeModal (for trade execution). The UI features a dashboard layout with chart pane, portfolio summary, watchlist, and coach notifications.
- The database schema includes tables for users, games, positions, trades, assets, portfolio_snapshots, achievements, tournaments, coach_interactions, and pending_orders. It uses SQLite with denormalization for read performance and includes indexes for optimized queries.
- The data architecture uses scrambled historical NSE/BSE data in CSV format with fictional tickers to protect privacy. The scrambling pipeline applies circular shifts, volatility scaling, and Gaussian noise to create anonymized price data while preserving statistical properties. Universe metadata is stored in JSON format.
- The API design follows REST principles with JWT authentication. Key endpoints include authentication, game management, trading, market data, analytics, AI coach, and tournament functionality. The system uses standard response format with status, data, and timestamp fields.
- The system implements comprehensive security measures including JWT-based authentication, role-based access control, input validation with Pydantic, SQL injection prevention, rate limiting, and audit logging. Passwords are hashed with bcrypt and the system follows privacy-by-design principles.
